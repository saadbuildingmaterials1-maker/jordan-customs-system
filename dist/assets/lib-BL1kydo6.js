import{c as s}from"./vendor-scoped-DBW9tZQa.js";import{t as c,f as l,x as m,L as u,E as f,$ as g}from"./vendor-utils-R1sEGBgu.js";const b=s();function x(...e){return c(l(e))}const r={};function p(e){m(t=>{r.lcp=t.value,console.log(`[Performance] LCP: ${t.value.toFixed(2)}ms`),e?.(r)}),u(t=>{r.cls=t.value,console.log(`[Performance] CLS: ${t.value.toFixed(4)}`),e?.(r)}),f(t=>{r.fcb=t.value,console.log(`[Performance] FCP: ${t.value.toFixed(2)}ms`),e?.(r)}),g(t=>{r.ttfb=t.value,console.log(`[Performance] TTFB: ${t.value.toFixed(2)}ms`),e?.(r)})}function d(){const e=new IntersectionObserver((t,a)=>{t.forEach(n=>{if(n.isIntersecting){const o=n.target,i=o.getAttribute("data-lazy-src");i&&(o.src=i,o.removeAttribute("data-lazy-src"),a.unobserve(o))}})},{rootMargin:"50px"});return document.querySelectorAll("img[data-lazy-src]").forEach(t=>{e.observe(t)}),e}function z(){const e=new IntersectionObserver((t,a)=>{t.forEach(n=>{if(n.isIntersecting){const o=n.target;o.classList.add("lazy-loaded"),a.unobserve(o),o.dispatchEvent(new CustomEvent("lazy-load"))}})},{rootMargin:"100px"});return document.querySelectorAll("[data-lazy-component]").forEach(t=>{e.observe(t)}),e}function S(){if("memory"in performance){const e=performance.memory;return{usedJSHeapSize:e.usedJSHeapSize,totalJSHeapSize:e.totalJSHeapSize,jsHeapSizeLimit:e.jsHeapSizeLimit,percentage:e.usedJSHeapSize/e.jsHeapSizeLimit*100}}return null}function F(){p(e=>{console.log("[Performance] Metrics updated:",e)}),d(),z(),setInterval(()=>{const e=S();e&&console.log(`[Memory] ${e.percentage.toFixed(2)}% (${(e.usedJSHeapSize/1024/1024).toFixed(2)}MB / ${(e.jsHeapSizeLimit/1024/1024).toFixed(2)}MB)`)},3e4)}function L(e){return new Intl.NumberFormat("ar-JO",{style:"currency",currency:"JOD",minimumFractionDigits:3,maximumFractionDigits:3}).format(e)}function H(e){const t=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"];return String(e).replace(/\d/g,a=>t[parseInt(a)])}export{L as a,x as c,H as f,F as i,b as t};
