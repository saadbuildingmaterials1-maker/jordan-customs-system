import{r as s,k as h,c as x}from"./vendor-react-Cim0OwQh.js";const T=s.createContext(void 0);function k({children:a,defaultTheme:d="system",switchable:r=!0}){const[o,i]=s.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||d),[m,l]=s.useState(!1);s.useEffect(()=>{const e=()=>{let t=!1;o==="dark"?t=!0:o==="light"?t=!1:t=window.matchMedia("(prefers-color-scheme: dark)").matches,l(t);const u=document.documentElement;t?u.classList.add("dark"):u.classList.remove("dark"),r&&localStorage.setItem("theme",o)};if(e(),o==="system"){const t=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>e();return t.addEventListener("change",u),()=>t.removeEventListener("change",u)}},[o,r]);const c=()=>{i(e=>e==="light"?"dark":e==="dark"?"system":"light")},n=e=>{i(e)};return h.jsxDEV(T.Provider,{"data-loc":"client/src/contexts/ThemeContext.tsx:92",value:{theme:o,isDark:m,toggleTheme:c,setTheme:n,switchable:r},children:a},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/contexts/ThemeContext.tsx",lineNumber:92,columnNumber:5},this)}const f=s.createContext(void 0);function C({children:a}){const[d,r]=s.useState([]),o=s.useCallback(c=>{const n=`toast-${Date.now()}-${Math.random()}`,e={...c,id:n,duration:c.duration??4e3};return r(t=>[...t,e]),e.duration&&e.duration>0&&setTimeout(()=>{i(n)},e.duration),n},[]),i=s.useCallback(c=>{r(n=>n.filter(e=>e.id!==c))},[]),m=s.useCallback(()=>{r([])},[]),l={toasts:d,addToast:o,removeToast:i,clearAll:m};return h.jsxDEV(f.Provider,{"data-loc":"client/src/contexts/ToastContext.tsx:81",value:l,children:a},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/contexts/ToastContext.tsx",lineNumber:81,columnNumber:5},this)}function g(){const a=x.useContext(f);if(a===void 0)throw new Error("useToast must be used within a ToastProvider");return a}export{k as T,C as a,g as u};
