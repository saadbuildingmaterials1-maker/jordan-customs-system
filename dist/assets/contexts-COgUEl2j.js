import{r as s,l as h,c as T}from"./vendor-react-Dgdo4XhX.js";const f=s.createContext(void 0);function C({children:o,defaultTheme:d="system",switchable:n=!0}){const[r,i]=s.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||d),[m,l]=s.useState(!1);s.useEffect(()=>{const e=()=>{let t=!1;r==="dark"?t=!0:r==="light"?t=!1:t=window.matchMedia("(prefers-color-scheme: dark)").matches,l(t);const u=document.documentElement;t?u.classList.add("dark"):u.classList.remove("dark"),n&&localStorage.setItem("theme",r)};if(e(),r==="system"){const t=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>e();return t.addEventListener("change",u),()=>t.removeEventListener("change",u)}},[r,n]);const c=()=>{i(e=>e==="light"?"dark":e==="dark"?"system":"light")},a=e=>{i(e)};return h.jsxDEV(f.Provider,{"data-loc":"client/src/contexts/ThemeContext.tsx:92",value:{theme:r,isDark:m,toggleTheme:c,setTheme:a,switchable:n},children:o},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/contexts/ThemeContext.tsx",lineNumber:92,columnNumber:5},this)}function k(){const o=s.useContext(f);if(!o)throw new Error("useTheme must be used within ThemeProvider");return o}const x=s.createContext(void 0);function w({children:o}){const[d,n]=s.useState([]),r=s.useCallback(c=>{const a=`toast-${Date.now()}-${Math.random()}`,e={...c,id:a,duration:c.duration??4e3};return n(t=>[...t,e]),e.duration&&e.duration>0&&setTimeout(()=>{i(a)},e.duration),a},[]),i=s.useCallback(c=>{n(a=>a.filter(e=>e.id!==c))},[]),m=s.useCallback(()=>{n([])},[]),l={toasts:d,addToast:r,removeToast:i,clearAll:m};return h.jsxDEV(x.Provider,{"data-loc":"client/src/contexts/ToastContext.tsx:81",value:l,children:o},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/contexts/ToastContext.tsx",lineNumber:81,columnNumber:5},this)}function g(){const o=T.useContext(x);if(o===void 0)throw new Error("useToast must be used within a ToastProvider");return o}export{C as T,k as a,w as b,g as u};
