import{r as m,k as e}from"./vendor-react-S0MKkAU8.js";import{B as r,T as A,a as f,b as o,c as d,H as j,I as M,C as y,r as D,v as g,J as V}from"./components-Bub5A0bE.js";import{s as E,B as w,a$ as T,v as C,w as S}from"./vendor-utils-B_HK82SI.js";import"./lib-BzzXKcxw.js";import"./vendor-scoped-CCIRhhtQ.js";import"./vendor-form-D568bDq1.js";import"./contexts-ByV0FW7M.js";import"./vendor-ui-BdiP05-s.js";import"./hooks-Cwno6KFY.js";import"./vendor-date-B3d3ZO_C.js";import"./vendor-charts-2SYnj1E-.js";import"./vendor-lodash-CkV06QvO.js";const k=[{id:"alert-1",ruleId:"variance-20",type:"variance",severity:"high",title:"انحراف الإيرادات 20%",message:"الإيرادات الفعلية أقل من المتوقع بنسبة 25%",currentValue:75e3,expectedValue:1e5,variance:-25e3,variancePercentage:25,recommendation:"يرجى مراجعة أسعار البيع والتحقق من حجم المبيعات",createdAt:new Date(Date.now()-7200*1e3),status:"active"},{id:"alert-2",ruleId:"threshold-customs",type:"threshold",severity:"high",title:"تجاوز الرسوم الجمركية",message:"الرسوم الجمركية تجاوزت 50,000 دينار",currentValue:62e3,expectedValue:5e4,variance:12e3,variancePercentage:24,recommendation:"تحقق من تصنيف المنتجات الجمركي وقيم الفواتير",createdAt:new Date(Date.now()-3600*1e3),status:"active"},{id:"alert-3",ruleId:"variance-15",type:"variance",severity:"medium",title:"انحراف المصاريف 15%",message:"المصاريف الفعلية أعلى من المتوقع بنسبة 18%",currentValue:118e3,expectedValue:1e5,variance:18e3,variancePercentage:18,recommendation:"راجع تفاصيل المصاريف وحدد المصادر الرئيسية للزيادة",createdAt:new Date(Date.now()-1800*1e3),status:"acknowledged"}],P=[{id:"variance-20",name:"انحراف الإيرادات 20%",type:"variance",metric:"revenue",threshold:20,severity:"high",enabled:!0,description:"تنبيه عند انحراف الإيرادات عن التوقع بأكثر من 20%"},{id:"variance-15",name:"انحراف المصاريف 15%",type:"variance",metric:"expenses",threshold:15,severity:"medium",enabled:!0,description:"تنبيه عند انحراف المصاريف عن التوقع بأكثر من 15%"},{id:"threshold-customs",name:"تجاوز الرسوم الجمركية",type:"threshold",metric:"customsDuties",threshold:5e4,severity:"high",enabled:!0,description:"تنبيه عند تجاوز الرسوم الجمركية 50,000 دينار"},{id:"threshold-vat",name:"ضريبة المبيعات المرتفعة",type:"threshold",metric:"vat",threshold:3e4,severity:"medium",enabled:!1,description:"تنبيه عند تجاوز ضريبة المبيعات 30,000 دينار"}];function K(){const[c,h]=m.useState(k),[i,N]=m.useState(P),[a,x]=m.useState(""),b=(s,n)=>{h(t=>t.map(l=>l.id===s?{...l,status:n,resolvedAt:n==="resolved"?new Date:void 0}:l))},p=s=>{N(n=>n.map(t=>t.id===s?{...t,enabled:!t.enabled}:t))},u=i.filter(s=>s.name.includes(a)||s.description.includes(a)||s.metric.includes(a)),v=s=>{switch(s){case"variance":return"انحراف";case"threshold":return"حد أدنى";case"anomaly":return"شذوذ";case"trend":return"اتجاه";default:return s}};return e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:161",className:"space-y-6",children:[e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:162",className:"flex items-center justify-between",children:[e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:163",children:[e.jsxDEV("h1",{"data-loc":"client/src/pages/AlertsManagement.tsx:164",className:"text-3xl font-bold",children:"إدارة التنبيهات"},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:164,columnNumber:11},this),e.jsxDEV("p",{"data-loc":"client/src/pages/AlertsManagement.tsx:165",className:"text-gray-600 mt-1",children:"نظام التنبيهات الذكية لكشف الانحرافات المالية"},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:165,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:163,columnNumber:9},this),e.jsxDEV(r,{"data-loc":"client/src/pages/AlertsManagement.tsx:167",className:"gap-2",children:[e.jsxDEV(E,{"data-loc":"client/src/pages/AlertsManagement.tsx:168",className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:168,columnNumber:11},this),"تنبيه جديد"]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:167,columnNumber:9},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:162,columnNumber:7},this),e.jsxDEV(A,{"data-loc":"client/src/pages/AlertsManagement.tsx:173",defaultValue:"alerts",className:"w-full",children:[e.jsxDEV(f,{"data-loc":"client/src/pages/AlertsManagement.tsx:174",className:"grid w-full grid-cols-2",children:[e.jsxDEV(o,{"data-loc":"client/src/pages/AlertsManagement.tsx:175",value:"alerts",className:"gap-2",children:[e.jsxDEV(w,{"data-loc":"client/src/pages/AlertsManagement.tsx:176",className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:176,columnNumber:13},this),"التنبيهات (",c.length,")"]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:175,columnNumber:11},this),e.jsxDEV(o,{"data-loc":"client/src/pages/AlertsManagement.tsx:179",value:"rules",className:"gap-2",children:[e.jsxDEV(T,{"data-loc":"client/src/pages/AlertsManagement.tsx:180",className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:180,columnNumber:13},this),"القواعس (",i.length,")"]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:179,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:174,columnNumber:9},this),e.jsxDEV(d,{"data-loc":"client/src/pages/AlertsManagement.tsx:185",value:"alerts",className:"mt-6",children:e.jsxDEV(j,{"data-loc":"client/src/pages/AlertsManagement.tsx:186",alerts:c,onStatusChange:b},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:186,columnNumber:11},this)},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:185,columnNumber:9},this),e.jsxDEV(d,{"data-loc":"client/src/pages/AlertsManagement.tsx:189",value:"rules",className:"mt-6 space-y-4",children:[e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:191",className:"mb-4",children:e.jsxDEV(M,{"data-loc":"client/src/pages/AlertsManagement.tsx:192",placeholder:"ابحث عن القاعدة...",value:a,onChange:s=>x(s.target.value),className:"max-w-md"},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:192,columnNumber:13},this)},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:191,columnNumber:11},this),e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:201",className:"space-y-3",children:u.map(s=>e.jsxDEV(y,{"data-loc":"client/src/pages/AlertsManagement.tsx:203",children:e.jsxDEV(D,{"data-loc":"client/src/pages/AlertsManagement.tsx:204",className:"pt-6",children:e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:205",className:"flex items-start justify-between",children:[e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:206",className:"flex-1",children:[e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:207",className:"flex items-center gap-2 mb-2",children:[e.jsxDEV("h3",{"data-loc":"client/src/pages/AlertsManagement.tsx:208",className:"font-semibold",children:s.name},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:208,columnNumber:25},this),e.jsxDEV(g,{"data-loc":"client/src/pages/AlertsManagement.tsx:209",variant:"outline",className:s.severity==="high"?"bg-red-100 text-red-800":s.severity==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:s.severity==="high"?"عالية":s.severity==="medium"?"متوسطة":"منخفضة"},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:209,columnNumber:25},this),e.jsxDEV(g,{"data-loc":"client/src/pages/AlertsManagement.tsx:225",variant:"secondary",children:v(s.type)},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:225,columnNumber:25},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:207,columnNumber:23},this),e.jsxDEV("p",{"data-loc":"client/src/pages/AlertsManagement.tsx:227",className:"text-sm text-gray-600 mb-2",children:s.description},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:227,columnNumber:23},this),e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:228",className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:229",children:[e.jsxDEV("span",{"data-loc":"client/src/pages/AlertsManagement.tsx:230",className:"text-gray-600",children:"المقياس: "},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:230,columnNumber:27},this),e.jsxDEV("span",{"data-loc":"client/src/pages/AlertsManagement.tsx:231",className:"font-semibold",children:s.metric},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:231,columnNumber:27},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:229,columnNumber:25},this),e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:233",children:[e.jsxDEV("span",{"data-loc":"client/src/pages/AlertsManagement.tsx:234",className:"text-gray-600",children:"الحد: "},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:234,columnNumber:27},this),e.jsxDEV("span",{"data-loc":"client/src/pages/AlertsManagement.tsx:235",className:"font-semibold",children:s.threshold.toLocaleString("ar-JO")},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:235,columnNumber:27},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:233,columnNumber:25},this),e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:239",children:[e.jsxDEV("span",{"data-loc":"client/src/pages/AlertsManagement.tsx:240",className:"text-gray-600",children:"الحالة: "},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:240,columnNumber:27},this),e.jsxDEV("span",{"data-loc":"client/src/pages/AlertsManagement.tsx:241",className:`font-semibold ${s.enabled?"text-green-600":"text-gray-600"}`,children:s.enabled?"مفعلة":"معطلة"},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:241,columnNumber:27},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:239,columnNumber:25},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:228,columnNumber:23},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:206,columnNumber:21},this),e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:252",className:"flex items-center gap-3",children:[e.jsxDEV(V,{"data-loc":"client/src/pages/AlertsManagement.tsx:253",checked:s.enabled,onCheckedChange:()=>p(s.id)},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:253,columnNumber:23},this),e.jsxDEV(r,{"data-loc":"client/src/pages/AlertsManagement.tsx:257",size:"sm",variant:"ghost",children:e.jsxDEV(C,{"data-loc":"client/src/pages/AlertsManagement.tsx:258",className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:258,columnNumber:25},this)},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:257,columnNumber:23},this),e.jsxDEV(r,{"data-loc":"client/src/pages/AlertsManagement.tsx:260",size:"sm",variant:"ghost",className:"text-red-600",children:e.jsxDEV(S,{"data-loc":"client/src/pages/AlertsManagement.tsx:261",className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:261,columnNumber:25},this)},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:260,columnNumber:23},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:252,columnNumber:21},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:205,columnNumber:19},this)},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:204,columnNumber:17},this)},s.id,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:203,columnNumber:15},this))},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:201,columnNumber:11},this),u.length===0&&e.jsxDEV("div",{"data-loc":"client/src/pages/AlertsManagement.tsx:271",className:"text-center py-8",children:e.jsxDEV("p",{"data-loc":"client/src/pages/AlertsManagement.tsx:272",className:"text-gray-600",children:"لم يتم العثور على قواعس"},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:272,columnNumber:15},this)},void 0,!1,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:271,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:189,columnNumber:9},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:173,columnNumber:7},this)]},void 0,!0,{fileName:"/home/ubuntu/jordan-customs-system/client/src/pages/AlertsManagement.tsx",lineNumber:161,columnNumber:5},this)}export{K as default};
