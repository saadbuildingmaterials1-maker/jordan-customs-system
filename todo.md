# نظام إدارة تكاليف الشحن والجمارك الأردنية - قائمة المهام

## المرحلة 1: البنية الأساسية وقاعدة البيانات
- [x] تصميم وإنشاء جداول قاعدة البيانات (البيانات الجمركية، الأصناف، التفاصيل المالية)
- [x] إنشاء نماذج Drizzle ORM للجداول
- [x] إنشاء دوال مساعدة في server/db.ts للاستعلامات

## المرحلة 2: الواجهات والمكونات الأساسية
- [x] تصميم وتطبيق نمط التصميم الأنيق (Elegant Style) مع الألوان والخطوط
- [x] إنشاء مكون DashboardLayout مخصص للنظام
- [x] إنشاء مكونات مشتركة (Headers, Cards, Forms)
- [x] تطبيق دعم اللغة العربية والأرقام العربية
- [x] إعداد CSS والمتغيرات الأساسية

## المرحلة 3: نموذج إدخال البيانات الجمركية
- [x] بناء نموذج إدخال تفاصيل البيان الجمركي
- [x] إضافة حقول: رقم البيان، التاريخ، مركز التخليص، سعر التعادل، بلد التصدير، بوليصة الشحن
- [x] إنشاء إجراء tRPC لحفظ البيانات الجمركية
- [x] التحقق من صحة البيانات المدخلة

## المرحلة 4: نموذج تفاصيل الأوزان والطرود
- [x] بناء نموذج إدخال الأوزان والطرود
- [x] إضافة حقول: الوزن القائم، الوزن الصافي، عدد الطرود، نوع الطرود
- [x] ربط البيانات مع البيان الجمركي

## المرحلة 5: نموذج إدخال الأصناف والقيم
- [x] بناء نموذج إدخال الأصناف (في إجراء tRPC)
- [x] إضافة حقول: اسم الصنف، الكمية، سعر الوحدة (أجنبي)، إجمالي السعر
- [x] حساب القيمة بالدينار الأردني
- [x] حساب نسبة القيمة من إجمالي الشحنة

## المرحلة 6: حساب الرسوم والضرائب الجمركية
- [x] بناء نموذج إدخال الرسوم والضرائب
- [x] حساب قيمة البضاعة FOB
- [x] حساب أجور الشحن والتأمين
- [x] حساب الرسوم الجمركية
- [x] حساب ضريبة المبيعات 16%
- [x] حساب الرسوم الإضافية والخدمات والغرامات
- [x] إنشاء إجراء tRPC لحساب التكاليف

## المرحلة 7: حساب تكلفة الوحدة (Landed Unit Cost)
- [x] بناء نموذج حساب تكلفة الوحدة
- [x] توزيع المصاريف الإضافية حسب نسبة قيمة كل صنف
- [x] حساب إجمالي تكلفة كل صنف واصل
- [x] حساب تكلفة الوحدة الواحدة بالدينار الأردني

## المرحلة 8: لوحة التحكم الذكية
- [ ] بناء لوحة التحكم الرئيسية
- [ ] عرض ملخص هيكل التكاليف
- [ ] عرض إجمالي قيمة البضاعة
- [ ] عرض إجمالي الشحن والتأمين
- [ ] عرض إجمالي الرسوم والضرائب
- [ ] عرض التكلفة الكلية النهائية
- [ ] عرض نسبة المصاريف الإضافية

## المرحلة 9: مقارنة التكاليف والانحراف
- [ ] إضافة حقول التكاليف التقديرية
- [ ] حساب الانحراف (Variance) بين الفعلي والتقديري
- [ ] حساب نسبة الانحراف المئوية
- [ ] عرض التحليل البياني للانحرافات

## المرحلة 10: إدارة السجلات والبيانات التاريخية
- [ ] بناء صفحة قائمة البيانات الجمركية السابقة
- [ ] إضافة إمكانية البحث والفلترة
- [ ] إضافة إمكانية تعديل السجلات
- [ ] إضافة إمكانية حذف السجلات
- [ ] إضافة إمكانية استعادة البيانات

## المرحلة 11: التقارير والتصدير
- [ ] بناء صفحة التقارير
- [ ] إضافة إمكانية تصدير PDF
- [ ] إضافة إمكانية تصدير Excel
- [ ] تصميم قالب التقرير الاحترافي
- [ ] تضمين جميع التفاصيل المالية والجمركية

## المرحلة 12: الواجهة الأنيقة والتحسينات
- [ ] تحسين التصميم البصري الشامل
- [ ] إضافة الرسوم التوضيحية والرموز
- [ ] تحسين تجربة المستخدم (UX)
- [ ] إضافة الرسوم البيانية والمخططات
- [ ] اختبار الاستجابة على جميع الأجهزة

## المرحلة 13: الاختبار والتحسينات النهائية
- [ ] كتابة اختبارات Vitest للحسابات
- [ ] اختبار جميع الحقول والنماذج
- [ ] اختبار الحسابات المالية
- [ ] اختبار التقارير والتصدير
- [ ] تحسينات الأداء والأمان


## المرحلة 8: نموذج إدارة الأصناف المتقدم
- [x] بناء صفحة عرض تفاصيل البيان الجمركي
- [x] إنشاء مكون جدول الأصناف مع عرض التفاصيل
- [x] بناء نموذج إضافة صنف جديد (Modal)
- [x] بناء نموذج تعديل الصنف
- [x] إضافة زر حذف الصنف مع تأكيد
- [x] حساب التكاليف تلقائياً عند إضافة/تعديل صنف
- [x] تحديث الملخص المالي تلقائياً

## المرحلة 9: صفحة عرض التفاصيل
- [ ] عرض معلومات البيان الجمركي الأساسية
- [ ] عرض جدول الأصناف مع التفاصيل المالية
- [ ] عرض ملخص التكاليف الشامل
- [ ] عرض الانحرافات والمقارنات

## المرحلة 10: التقارير والتصدير
- [ ] إضافة إمكانية تصدير PDF
- [ ] إضافة إمكانية تصدير Excel
- [ ] تصميم قالب التقرير الاحترافي


## المرحلة 11: ميزة التصدير والتقارير
- [x] بناء خدمة تصدير Excel مع مكتبة ExcelJS
- [x] بناء خدمة تصدير PDF مع مكتبة jsPDF
- [x] إضافة شعار الشركة في رأس التقارير
- [x] تنسيق التقارير بشكل احترافي
- [x] إضافة جداول البيانات في التقارير
- [x] إضافة الملخصات المالية في التقارير

## المرحلة 12: ميزة تحليل الانحرافات
- [x] بناء صفحة مقارنة الانحرافات
- [x] إضافة نموذج إدخال التكاليف التقديرية
- [x] رسوم بيانية مقارنة الأعمدة
- [x] رسوم بيانية الانحرافات
- [x] جدول تفصيلي للانحرافات
- [x] روابط الملخصات المالية

## المرحلة 13: تحسين نموذج الإدخال المتقدم
- [x] إضافة حقل رقم الباركود
- [x] إضافة حقل رقم المرجع المصري
- [x] إضافة حقل رقم الرخصة للمستورد
- [x] إضافة حقل رقم الرقم الضريبي للمستورد
- [x] إضافة حقل رقم الرقم التسلسلي للمستورد
- [x] إضافة حقل رقم الترخيص للشركة المصدرة
- [x] إضافة حقل رقم بوليصة الشحن
- [x] إضافة حقل الحجم (CBM)
- [x] إضافة حقل الكود الجمركي للأصناف
- [x] إضافة حقل رقم الشهادة النهاية
- [x] إضافة حقل رقم المعاملة
- [x] إضافة حقل الملاحظات العامة


## المرحلة 14: نموذج متقدم لإدارة الأصناف مع رموز فريدة
- [x] إضافة حقل رقم رمز فريد لكل صنف (SKU/Item Code)
- [x] إنشاء صفحة إدارة الأصناف المتقدمة (ItemsManagement)
- [x] إضافة نموذج إضافة صنف متقدم مع رقم رمز تلقائي
- [x] إضافة خاصية البحث والتصفية حسب رقم الرمز
- [x] إضافة جدول تفصيلي للأصناف مع جميع التفاصيل
- [x] إضافة خاصية التعديل السريع للأصناف
- [x] إضافة خاصية الحذف الآمن للأصناف
- [x] ربط رقم الرمز مع البيان الجمركي

## المرحلة 15: دمج الذكاء الاصطناعي
- [x] إنشاء خدمة AI للتحليل الذكي
- [x] إضافة اقتراحات ذكية لتصنيف الأصناف
- [x] إضافة كشف الأخطاء والتحذيرات الذكية
- [x] إضافة توقعات الرسوم الجمركية بناءً على البيانات التاريخية

## المرحلة 16: صفحة اختبار شاملة
- [ ] إنشاء صفحة اختبار شاملة (Testing Dashboard)
- [ ] إضافة اختبارات للصفحات الرئيسية
- [ ] إضافة اختبارات للنماذج والحقول
- [ ] إضافة اختبارات للحسابات المالية
- [ ] إضافة اختبارات للحفظ والاسترجاع
- [ ] إضافة اختبارات للتصدير والتقارير
- [ ] إضافة اختبارات الأداء والسرعة
- [ ] إضافة تقرير نتائج الاختبار


## المرحلة 17: دمج الذكاء الاصطناعي في النماذج
- [x] إضافة أزرار "اقتراح ذكي" في نموذج إدارة الأصناف
- [x] إضافة إجراء tRPC للتصنيف الذكي للأصناف
- [x] إضافة إجراء tRPC لتحليل البيان الجمركي
- [x] إضافة إجراء tRPC لتوقع التكاليف
- [x] إضافة مؤشرات تحميل وحالات خطأ
- [x] إضافة عرض نتائج الاقتراحات الذكية
- [x] إضافة خيارات قبول/رفض الاقتراحات


## المرحلة 18: صفحة فاتورة المصنع المتقدمة
- [ ] إنشاء جدول المصانع (Factories) في قاعدة البيانات
- [ ] إنشاء جدول الفواتير (Invoices) في قاعدة البيانات
- [ ] إنشاء جدول تفاصيل الفواتير (InvoiceItems) في قاعدة البيانات
- [ ] إضافة حقول التكاليف الخارجية والداخلية
- [ ] إضافة حقول الكود الجمركي والرمز المنسق وبند التعرفة
- [ ] إضافة حقول نسبة ضريبة المبيعات والـ HS Code
- [ ] بناء صفحة إدارة المصانع
- [ ] بناء صفحة إنشاء/تعديل فاتورة المصنع
- [ ] إضافة نموذج إضافة عدة مصانع في نفس البيان
- [ ] إضافة حسابات التكاليف الخارجية (Freight, Insurance)
- [ ] إضافة حسابات التكاليف الداخلية (Local Costs)
- [ ] حساب السعر النهائي لكل منتج
- [ ] عرض جدول تفصيلي بجميع المنتجات والتكاليف
- [ ] إضافة حقول الكود الجمركي والرمز المنسق لكل منتج
- [ ] إضافة عمود نسبة الضريبة والـ HS Code
- [ ] حساب إجمالي التكاليف والسعر النهائي
- [ ] إضافة خيارات التصدير والطباعة


## المرحلة 19: شجرة الحسابات المتكاملة
- [x] إنشاء جدول الحسابات (Chart of Accounts)
- [x] إنشاء جدول الحركات المحاسبية (Transactions)
- [x] إنشاء جدول دفتر الأستاذ (General Ledger)
- [x] إنشاء جدول الميزانية التجريبية (Trial Balance)
- [x] إنشاء جدول التقارير المالية (Financial Reports)
- [x] إنشاء جدول سجل التدقيق (Audit Log)
- [x] تطبيق جميع الجداول على قاعدة البيانات

## المرحلة 20: التوثيق الشامل
- [x] كتابة دليل المستخدم الشامل (DOCUMENTATION.md)
- [x] توثيق الحسابات والصيغ الرياضية
- [x] توثيق جميع الميزات الرئيسية
- [x] دليل استكشاف الأخطاء
- [ ] إنشاء فيديوهات تعليمية
- [ ] إنشاء قاموس المصطلحات

## المرحلة 21: معلومات الصانع والتحكم الإداري
- [x] إضافة معلومات صانع التطبيق (DEVELOPER_INFO.md)
- [x] ربط البريد الإلكتروني للصانع
- [x] إنشاء لوحة تحكم إدارية حصرية (AdminPanel.tsx)
- [x] نظام صلاحيات متقدم (Admin Only)
- [x] إضافة مسار لوحة التحكم الإدارية
- [ ] إدارة المستخدمين والأدوار المتقدمة

## المرحلة 22: النسخ الاحتياطي التلقائي
- [ ] إعداد نظام النسخ الاحتياطي التلقائي
- [ ] جدولة النسخ الاحتياطية اليومية
- [ ] تشفير النسخ الاحتياطية
- [ ] إمكانية استعادة النسخ الاحتياطية
- [ ] تخزين النسخ على خوادم آمنة
- [ ] إشعارات بحالة النسخ الاحتياطية

## المرحلة 23: تطبيق سطح المكتب
- [ ] إعداد Electron للتطبيق
- [ ] بناء نسخة سطح المكتب
- [ ] إضافة خاصية التحديث التلقائي
- [ ] إمكانية التحميل من الويب مباشرة
- [ ] دعم Windows و Mac و Linux
- [ ] تثبيت سهل وآمن

## المرحلة 24: الاختبارات النهائية والإطلاق الرسمي
- [ ] اختبارات شاملة للنظام
- [ ] اختبارات الأداء والسرعة
- [ ] اختبارات الأمان
- [ ] اختبارات المستخدم النهائي
- [ ] إصلاح الأخطاء المكتشفة
- [ ] الإطلاق الرسمي للبرنامج


## المرحلة 23: تطبيق سطح المكتب (Electron)
- [x] تثبيت مكتبات Electron والمكتبات المطلوبة
- [x] إنشاء ملف العملية الرئيسية (main.ts)
- [x] إنشاء ملف Preload آمن (preload.ts)
- [x] إنشاء إعدادات electron-builder
- [x] تحديث package.json بـ scripts و dependencies
- [x] إنشاء ElectronContext للتكامل مع الويب
- [x] إنشاء دليل البناء (ELECTRON_BUILD.md)
- [ ] إنشاء أيقونات التطبيق (icon.png, icon.ico, icon.icns)
- [ ] اختبار البناء على Windows و macOS و Linux
- [x] إعداد GitHub Actions للبناء التلقائي
- [ ] إعداد التوقيع الرقمي للملفات

## المرحلة 24: النسخ الاحتياطي التلقائي
- [x] إنشاء GitHub Actions workflows للنسخ الاحتياطية التلقائية
- [x] جدولة النسخ الاحتياطية اليومية عبر GitHub Actions
- [ ] تشفير النسخ الاحتياطية
- [ ] إدارة مساحة التخزين
- [ ] إمكانية استعادة النسخ الاحتياطية
- [ ] واجهة إدارة النسخ الاحتياطية

## المرحلة 25: سير العمل التلقائية (GitHub Actions)
- [x] إنشاء workflow بناء ونشر (build-and-release.yml)
- [x] إنشاء workflow اختبار الكود (test.yml)
- [x] إنشاء workflow نشر تلقائي (auto-deploy.yml)
- [x] إنشاء دليل إعداد GitHub Actions
- [ ] إعداد متغيرات البيئة (Secrets)
- [ ] اختبار workflows على GitHub
- [ ] إعداد الإشعارات (Slack, Discord, Email)

## المرحلة 26: الاختبارات النهائية والإطلاق الرسمي
- [ ] اختبار جميع الصفحات والحقول
- [ ] اختبار الحسابات والصيغ
- [ ] اختبار التصدير والطباعة
- [ ] اختبار الذكاء الاصطناعي
- [ ] اختبار الأمان والصلاحيات
- [ ] اختبار الأداء والاستجابة
- [ ] إطلاق النسخة الأولى


## المرحلة 28: صفحات إدارة المحاسبة المتقدمة
- [x] إنشاء لوحة تحكم متكاملة (AccountingDashboard)
- [x] عرض الحسابات مع الرصاليد
- [x] عرض الحركات المحاسبية
- [x] عرض قائمة الدخل
- [x] عرض الميزانة العمومية
- [x] عرض سجل التدقيق
- [x] رسوم بيانية تفاعلية (دائري وأعمدة)
- [x] بحث وتصفية متقدمة
- [x] إضافة مسار للصفحة في App.tsx


## المرحلة 29: الفلاتر الزمنية المتقدمة للتقارير
- [x] إنشاء مكون DateRangeFilter للفلاتر الزمنية
- [x] إضافة خيارات الفترات الزمنية (يومي، أسبوعي، شهري، ربع سنوي، سنوي)
- [x] إضافة منتقي التاريخ المتقدم (Date Range Picker)
- [x] إضافة مقارنة بين الفترات الزمنية
- [x] حساب النسب المئوية للتغير بين الفترات
- [x] عرض الرسوم البيانية المقارنة
- [x] إنشاء صفحة التقارير المتقدمة (AdvancedReports)
- [x] إضافة مسار التقارير في App.tsx


## المرحلة 30: نظام التنبيهات الذكية
- [x] إنشاء خدمة كشف الانحرافات المالية (alert-service.ts)
- [x] إضافة قواعد التنبيهات القابلة للتخصيص
- [x] إنشاء مكون عرض التنبيهات (AlertsPanel.tsx)
- [x] إنشاء صفحة إدارة التنبيهات (AlertsManagement.tsx)
- [x] إضافة مسار للتنبيهات في App.tsx
- [x] كشف الانحرافات (النسبة والحدود)
- [x] كشف الشذوذ باستخدام الإحصائيات
- [x] كشف الاتجاهات السلبية المتتالية
- [x] توليد توصيات ذكية باستخدام AI
- [x] إرسال إشعارات عبر البريد الإلكتروني


## المرحلة 31: الاختبار الشامل للتطبيق
- [x] اختبار الصفحة الرئيسية والملاحات
- [x] اختبار إدخال بيان جمركي وهمي كامل
- [x] اختبار إدارة الأصناف والحسابات التلقائية
- [ ] اختبار التقارير والتصدير (PDF و Excel)
- [x] اختبار التنبيهات والانحرافات
- [x] اختبار لوحة تحكم المحاسبة
- [x] اختبار الذكاء الاصطناعي والاقتراحات الذكية
- [x] اختبار جميع الأزرار والحقول والواجهات
- [ ] اختبار البحث والتصفية
- [x] اختبار الحسابات والصيغ المالية
- [ ] تقرير الاختبار النهائي والتوصيات

## المرحلة 32: إصلاح الأخطاء المكتشفة
- [x] إصلاح صفحة قائمة البيانات الجمركية (404 error)
- [x] إصلاح زر تصدير PDF
- [ ] إصلاح صفحة الإعدادات (اختياري)
- [ ] اختبار زر تصدير Excel
- [x] كتابة واختبار Vitest للإصلاحات (نجح 17/17 اختبار)


## المرحلة 33: صفحة فاتورة المورد (Supplier Invoice)
- [x] بناء صفحة فاتورة المورد مع واجهة مميزة
- [x] إضافة جدول البيانات مع: الرموز، الوصف، السعر، العملة
- [x] إضافة حقول: عدد القطع، العدد بالكرتونة
- [x] خانة بحث متقدمة للرموز الجمركية
- [x] التحقق من تطابق الرمز الجمركي
- [x] حساب السعر الإجمالي تلقائياً
- [ ] إضافة إجراء tRPC لحفظ فاتورة المورد إنشاء جدول الرموز الجمركية (HS Codes) في قاعدة البيانات
- [ ] إنشاء جدول فواتير المورد (Supplier Invoices)
- [ ] إنشاء جدول تفاصيل الفواتير (Invoice Items)
- [ ] بناء صفحة فاتورة المورد مع واجهة مميزة
- [ ] إضافة جدول البيانات مع: الرموز، الوصف، السعر، العملة
- [ ] إضافة حقول: عدد القطع، العدد بالكرتونة
- [ ] خانة بحث متقدمة للرموز الجمركية
- [ ] التحقق من تطابق الرمز الجمركي
- [ ] حساب السعر الإجمالي تلقائياً
- [ ] إضافة إجراء tRPC لحفظ فاتورة المورد

## المرحلة 34: صفحة الشحن (Shipping)
- [ ] إنشاء جدول الشركات (Shipping Companies)
- [ ] إنشاء جدول الشحنات (Shipments)
- [ ] بناء صفحة الشحن مع واجهة احترافية
- [ ] إضافة حقل اسم شركة الشحن
- [ ] إضافة خاصية رفع ملف PDF وتخزينه
- [ ] إضافة حقول: قيمة الشحن، رقم الحاوية
- [ ] تحديد شركة الحاوية (للتتبع)
- [ ] إضافة تاريخ المغادرة والوصول
- [ ] دمج الذكاء الاصطناعي للتنبؤ بتواريخ الوصول
- [ ] إضافة إجراء tRPC لحفظ بيانات الشحن

## المرحلة 35: صفحة المصاريف (Expenses)
- [ ] إنشاء جدول أنواع المصاريف (Expense Types)
- [ ] إنشاء جدول المصاريف (Expenses)
- [ ] بناء صفحة المصاريف مع واجهة احترافية
- [ ] إضافة تحديد نوع المصاريف
- [ ] إضافة اختيار العملة
- [ ] دمج API لأسعار الصرف الحالية
- [ ] حساب المبلغ بالعملة المحددة تلقائياً
- [ ] توزيع المصاريف على المنتجات
- [ ] إضافة إجراء tRPC لحفظ المصاريف

## المرحلة 36: نظام البحث والرموز الجمركية
- [ ] إنشاء قائمة شاملة بالرموز الجمركية (HS Codes)
- [ ] بناء خاصية البحث المتقدمة للرموز
- [ ] إضافة فلاتر حسب الفئة والقسم
- [ ] التحقق التلقائي من تطابق الرموز
- [ ] إضافة اقتراحات ذكية للرموز
- [ ] إضافة إجراء tRPC للبحث عن الرموز

## المرحلة 37: نظام توزيع القيم التلقائي
- [ ] حساب نسبة كل منتج من إجمالي القيمة
- [ ] توزيع المصاريف حسب النسبة
- [ ] توزيع الرسوم الجمركية تلقائياً
- [ ] حساب السعر النهائي لكل منتج
- [ ] إضافة إجراء tRPC لتوزيع القيم

## المرحلة 38: تحسين الواجهة والتصميم الاحترافي
- [ ] اختيار نظام ألوان مريح واحترافي
- [ ] تحسين تصميم الجداول والنماذج
- [ ] إضافة رسوم توضيحية وأيقونات
- [ ] تحسين تجربة المستخدم (UX)
- [ ] إضافة رسوم بيانية للبيانات
- [ ] اختبار الاستجابة على جميع الأجهزة
- [ ] تحسين سرعة التطبيق

## المرحلة 39: الاختبار الشامل والإصلاح
- [ ] اختبار صفحة فاتورة المورد
- [ ] اختبار صفحة الشحن مع رفع PDF
- [ ] اختبار صفحة المصاريف
- [ ] اختبار نظام البحث والرموز
- [ ] اختبار توزيع القيم التلقائي
- [ ] اختبار التصدير والطباعة
- [ ] اختبار الأداء والسرعة
- [ ] إصلاح جميع الأخطاء المكتشفة
- [ ] كتابة اختبارات Vitest شاملة


## المرحلة 40: نظام استيراد وتحليل البيان الجمركي من PDF
- [x] إنشاء خدمة استخراج البيانات من PDF (PDF Parser Service) - تم إنشاء customs-analyzer.ts
- [x] إضافة استيرادات في routers.ts
- [ ] تحليل هيكل البيان الجمركي تلقائياً
- [ ] استخراج معلومات المستورد والشركة والتواريخ
- [ ] استخراج جميع الأصناف والبنود والرسوم
- [ ] استخراج الملخص المالي والإجماليات
- [ ] إنشاء إجراء tRPC لاستيراد البيان من PDF
- [ ] معالجة الأخطاء والبيانات الناقصة

## المرحلة 41: تصميم صفحة البيان الجمركي المتقدمة
- [x] إنشاء صفحة عرض البيان الجمركي المتقدمة (AdvancedCustomsDeclaration)
- [x] تصميم جدول مطابق تماماً لملف البيان الأصلي
- [x] إضافة أعمدة: رقم البند، بند التعرفة، الرمز HS، الكمية، السعر
- [x] إضافة أعمدة: نسبة الرسم، المبلغ، الطرد، العملة
- [x] عرض معلومات المستورد والشركة والتواريخ
- [x] عرض الملخص المالي الشامل
- [x] عرض جدول توزيع القيم والرسوم على الأصناف
- [ ] إضافة زر استيراد البيان من PDF
- [ ] إضافة زر تصدير البيان إلى PDF

## المرحلة 42: نظام توزيع القيم والرسوم المحاسبي
- [ ] حساب نسبة كل صنف من إجمالي القيمة
- [ ] توزيع الرسوم الجمركية على الأصناف
- [ ] توزيع الضرائب على الأصناف
- [ ] توزيع المصاريف الإضافية على الأصناف
- [ ] حساب السعر النهائي لكل صنف
- [ ] دعم تحويل العملات (USD, EGP, JOD) في جميع المراحل
- [ ] إنشاء إجراء tRPC لتوزيع القيم
- [ ] عرض جدول توزيع القيم التفصيلي

## المرحلة 43: تحسين صفحة الشحن والتتبع الحي
- [ ] إضافة خاصية البحث عن رقم الحاوية عبر الويب
- [ ] تكامل مع APIs التتبع (Container Tracking APIs)
- [ ] تحديد شركة الحاويات تلقائياً
- [ ] تحديد اسم الباخرة والرحلة
- [ ] تحديث التواريخ والمواعيد تلقائياً
- [ ] عرض حالة الشحنة (في الميناء، في البحر، وصلت، إلخ)
- [ ] عرض خريطة تتبع الشحنة
- [ ] إضافة إشعارات تحديث الحالة

## المرحلة 44: نظام البحث والتتبع عبر الويب
- [ ] إنشاء خدمة البحث عن الحاويات (Container Search Service)
- [ ] تكامل مع APIs التتبع الموثوقة
- [ ] البحث عن معلومات الباخرة والرحلة
- [ ] البحث عن جدول الحركة والمواعيد
- [ ] تحديث البيانات تلقائياً يومياً
- [ ] إنشاء إجراء tRPC للبحث والتتبع
- [ ] معالجة الأخطاء والبيانات غير المتاحة

## المرحلة 45: تحسين صفحة فاتورة المورد
- [ ] إضافة حقول إضافية: رقم البند، بند التعرفة، الرمز HS
- [ ] إضافة حقل نسبة الرسم والضريبة
- [ ] تحديد العملة لكل صنف (USD, EGP, JOD)
- [ ] حساب السعر بالعملة المحددة
- [ ] عرض جدول توزيع القيم
- [ ] إضافة خاصية التحقق من الرموز الجمركية
- [ ] إضافة خاصية الحفظ المتقدم

## المرحلة 46: الاختبار الشامل والإصلاح
- [ ] اختبار استيراد البيان من PDF
- [ ] اختبار تحليل البيانات واستخراجها
- [ ] اختبار توزيع القيم والرسوم
- [ ] اختبار تحويل العملات
- [ ] اختبار البحث والتتبع عبر الويب
- [ ] اختبار التتبع الحي للشحنات
- [ ] اختبار جميع الحقول والأعمدة
- [ ] إصلاح جميع الأخطاء المكتشفة
- [ ] كتابة اختبارات Vitest شاملة
